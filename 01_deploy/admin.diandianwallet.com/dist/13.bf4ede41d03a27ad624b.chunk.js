webpackJsonp([13],{235:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=t(317),n=t.n(o);for(var r in o)"default"!==r&&function(e){t.d(a,e,function(){return o[e]})}(r);var s=t(444),i=t.n(s),l=!1;var c=function(e){l||t(442)},d=t(0)(n.a,i.a,!1,c,"data-v-356eba94",null);d.options.__file="src\\views\\system\\HostExchange.vue",a.default=d.exports},317:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=t(22);t(11);a.default={data:function(){var e=this;return{pageNum:null,currentPageIdx:1,permissionWrapper:!1,ifLoading:!0,submitArr:[],showAddHostExchangeModel:!1,showForm:!1,uploading:!1,delHostExchange:!1,hostExchangeId:null,basicUrl:o.BASICURL,config:{uploadUrl:o.BASICURL+"admin/common/upload/local/image",uploadName:"file",parentName:"hostExchange",uploadParams:{}},formValidate:{name:null,url:null,logo:null,sort:0},ruleValidate:{name:[{required:!0,message:this.$t("HostExchangeManage.nameNotEmpty"),trigger:"blur"}],url:[{required:!0,message:this.$t("HostExchangeManage.urlNotEmpty"),trigger:"blur"}],logo:[{required:!0,message:this.$t("HostExchangeManage.logoNotEmpty"),trigger:"blur"}]},column_frist:[{title:"ID",key:"id",width:80},{title:"名称",key:"name"},{title:"Logo",key:"logo"},{title:"连接",key:"url"},{title:"排序",key:"sort"},{title:this.$t("perpetualcontractcurrencystandardmanagement.operation"),render:function(a,t){return a("div",[a("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.showForm=!0,e.hostExchangeId=t.row.id,e.formValidate.name=t.row.name,e.formValidate.url=t.row.url,e.formValidate.logo=t.row.logo,e.formValidate.sort=t.row.sort}}},e.$t("perpetualcontractcurrencystandardmanagement.modify")),a("Button",{props:{type:"error",size:"small"},on:{click:function(){e.hostExchangeId=t.row.id,e.deleteHostExchangeBtn()}}},e.$t("secondcontractcompensationsetting.delete"))])}}],userpage:[]}},methods:{changePage:function(e){this.currentPageIdx=e,this.refreshPage({pageNo:e,pageSize:10})},ifUploading:function(e){this.uploading=e},imageUploading:function(e,a,t){this.ifShowPercentCircle=!0,this.percentage=a.percentage},uploadSuccessed:function(e,a,t){this.formValidate.logo=e.data,this.ifShowPercentCircle=!1,this.$Message.success(this.$t("advertisingmanagement.uploadsuccessful"))},uploadFailed:function(e,a,t){this.ifShowPercentCircle=!1,this.$Message.error(this.$t("advertisingmanagement.uploadfailed"))},addHostExchangeBtn:function(){this.submitArr=[],this.hostExchangeId=0,this.formValidate.name=null,this.formValidate.url=null,this.formValidate.logo=null,this.formValidate.sort=0,this.showAddHostExchangeModel=!0},addHostExchange:function(){var e=this;if(""!==this.formValidate.name&&this.formValidate.name){this.permissionWrapper=!0;var a={name:this.formValidate.name,url:this.formValidate.url,logo:this.formValidate.logo,sort:this.formValidate.sort};(0,o.hostExchangeUpdate)(a).then(function(a){a.code?e.$Message.error(a.message):(e.showAddHostExchangeModel=!1,e.$Message.success(e.$t("perpetualcontractcurrencystandardmanagement.operationsucceeded")),e.refreshPage()),e.permissionWrapper=!1}).catch(function(e){console.log(e)})}else this.$Message.warning(this.$t("jiao-se-ming-cheng-bu-neng-wei-kong"))},refreshPage:function(e){var a=this;this.ifLoading=!0,(0,o.hostExchangeList)(e).then(function(e){e.code?a.$Message.error(e.message):(a.userpage=e.data,a.ifLoading=!1),a.ifLoading=!1},function(e){console.log(e),a.ifLoading=!1})},deleteHostExchangeBtn:function(){this.delHostExchange=!0},deleteHostExchange:function(){var e=this;(0,o.hostExchangeDelete)({id:this.hostExchangeId}).then(function(a){a.code||e.refreshPage()},function(a){e.$Message.error("删除失败")})},confirmChange:function(){var e=this,a={id:this.hostExchangeId,name:this.formValidate.name,url:this.formValidate.url,logo:this.formValidate.logo,sort:this.formValidate.sort};(0,o.hostExchangeUpdate)(a).then(function(a){a.code||(e.showForm=!1,e.$Message.success("修改成功"),e.refreshPage(),e.ifLoading=!1)},function(a){e.$Message.error("修改失败")})},cancelChange:function(){this.$Message.info(this.$t("versionmanagement.modificationcanceled"))},refreshPageManual:function(){this.refreshPage()}},created:function(){this.refreshPage()}}},442:function(e,a,t){var o=t(443);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t(5)("4388eed8",o,!1,{})},443:function(e,a,t){(e.exports=t(4)(!1)).push([e.i,"\n.permissionWrapper[data-v-356eba94] {\n  position: absolute;\n  z-index: 10;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.2);\n}\n.permissionWrapper p[data-v-356eba94] {\n  position: absolute;\n  top: 50%;\n  left: 45%;\n  transform: -50%;\n  font-size: 25px;\n  font-style: '\\9ED1\\4F53';\n  text-align: center;\n  color: #fff;\n}\n.remark[data-v-356eba94] {\n  color: gray;\n}\ntable[data-v-356eba94] {\n  border-right: 1px solid gray;\n  border-bottom: 1px solid gray;\n  text-align: center;\n}\ntable th[data-v-356eba94] {\n  border-left: 1px solid gray;\n  border-top: 1px solid gray;\n}\ntable td[data-v-356eba94] {\n  border-left: 1px solid gray;\n  border-top: 1px solid gray;\n}\n",""])},444:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("Card",[t("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n        "+e._s(e.$t("HostExchangeManage.title"))+" "),t("Button",{attrs:{type:"primary",size:"small"},on:{click:e.refreshPageManual}},[t("Icon",{attrs:{type:"refresh"}}),e._v("\n            "+e._s(e.$t("perpetualcontractcurrencystandardmanagement.refresh"))+" ")],1)],1),e._v(" "),t("Row",{staticClass:"functionWrapper"},[t("div",{staticClass:"btnsWrapper clearfix"},[t("Button",{attrs:{type:"primary"},on:{click:e.addHostExchangeBtn}},[e._v(e._s(e.$t("HostExchangeManage.addHostExchange")))])],1)]),e._v(" "),t("Modal",{attrs:{title:e.$t("HostExchangeManage.delHostExchange")},on:{"on-ok":e.deleteHostExchange,"on-cancel":function(a){e.$Message.info(this.$t("HostExchangeManage.cancel"))}},model:{value:e.delHostExchange,callback:function(a){e.delHostExchange=a},expression:"delHostExchange"}},[t("p",[e._v(e._s(e.$t("HostExchangeManage.deleteThisHostExchange")))])]),e._v(" "),t("Modal",{attrs:{title:e.$t("HostExchangeManage.addHostExchange"),width:"820px"},on:{"on-ok":e.addHostExchange},model:{value:e.showAddHostExchangeModel,callback:function(a){e.showAddHostExchangeModel=a},expression:"showAddHostExchangeModel"}},[t("Form",{attrs:{"label-position":"right",model:e.formValidate,"label-width":150,rules:e.ruleValidate}},[t("FormItem",{attrs:{label:e.$t("HostExchangeManage.name"),prop:"name"}},[t("Input",{model:{value:e.formValidate.name,callback:function(a){e.$set(e.formValidate,"name",a)},expression:"formValidate.name"}})],1),e._v(" "),t("FormItem",{attrs:{label:e.$t("HostExchangeManage.url"),prop:"url"}},[t("Input",{model:{value:e.formValidate.url,callback:function(a){e.$set(e.formValidate,"url",a)},expression:"formValidate.url"}})],1),e._v(" "),t("FormItem",{attrs:{label:e.$t("HostExchangeManage.logo"),prop:"logo"}},[t("Input",{model:{value:e.formValidate.logo,callback:function(a){e.$set(e.formValidate,"logo",a)},expression:"formValidate.logo"}}),e._v(" "),t("Upload",{attrs:{action:e.basicUrl+"admin/common/upload/local/image","on-success":e.uploadSuccessed,"on-error":e.uploadFailed,"on-progress":e.imageUploading,"show-upload-list":!1}},[t("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[e._v(e._s(e.$t("advertisingmanagement.addpicture")))])],1)],1),e._v(" "),t("FormItem",{attrs:{label:e.$t("HostExchangeManage.sort"),prop:"sort"}},[t("Input",{model:{value:e.formValidate.sort,callback:function(a){e.$set(e.formValidate,"sort",a)},expression:"formValidate.sort"}})],1)],1),e._v(" "),t("br")],1),e._v(" "),t("Row",[t("Table",{attrs:{columns:e.column_frist,data:e.userpage,loading:e.ifLoading,border:""}})],1),e._v(" "),t("Modal",{attrs:{title:e.$t("rolemanagement.modifypermissions"),width:"820px"},on:{"on-ok":e.confirmChange,"on-cancel":e.cancelChange},model:{value:e.showForm,callback:function(a){e.showForm=a},expression:"showForm"}},[t("Form",{attrs:{"label-width":150}},[t("FormItem",{attrs:{label:e.$t("HostExchangeManage.name"),prop:"name"}},[t("Input",{model:{value:e.formValidate.name,callback:function(a){e.$set(e.formValidate,"name",a)},expression:"formValidate.name"}})],1),e._v(" "),t("FormItem",{attrs:{label:e.$t("HostExchangeManage.url"),prop:"url"}},[t("Input",{model:{value:e.formValidate.url,callback:function(a){e.$set(e.formValidate,"url",a)},expression:"formValidate.url"}})],1),e._v(" "),t("FormItem",{attrs:{label:e.$t("HostExchangeManage.logo"),prop:"logo"}},[t("Input",{model:{value:e.formValidate.logo,callback:function(a){e.$set(e.formValidate,"logo",a)},expression:"formValidate.logo"}}),e._v(" "),t("Upload",{attrs:{action:e.basicUrl+"admin/common/upload/local/image","on-success":e.uploadSuccessed,"on-error":e.uploadFailed,"on-progress":e.imageUploading,"show-upload-list":!1}},[t("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[e._v(e._s(e.$t("advertisingmanagement.addpicture")))])],1)],1),e._v(" "),t("FormItem",{attrs:{label:e.$t("HostExchangeManage.sort"),prop:"sort"}},[t("Input",{model:{value:e.formValidate.sort,callback:function(a){e.$set(e.formValidate,"sort",a)},expression:"formValidate.sort"}})],1)],1)],1),e._v(" "),t("Row",{staticClass:"pageWrapper"},[t("Page",{staticClass:"buttomPage",attrs:{total:e.pageNum,current:e.currentPageIdx,"show-elevator":""},on:{"on-change":e.changePage}})],1)],1),e._v(" "),e.permissionWrapper?t("div",{staticClass:"permissionWrapper"},[t("p",[e._v(e._s(e.$t("rolemanagement.dataupdating")))])]):e._e()],1)};o._withStripped=!0;var n={render:o,staticRenderFns:[]};a.default=n}});