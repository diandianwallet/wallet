webpackJsonp([18],{213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(295),o=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);var i=n(375),s=n.n(i),c=!1;var l=function(e){c||n(373)},m=n(0)(o.a,s.a,!1,l,"data-v-3a44073a",null);m.options.__file="src\\views\\system\\Coin.vue",t.default=m.exports},295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),o=(n(11),n(22));t.default={data:function(){var e=this;return{needCord:!0,enableTransferCoin:0,coldWalletForm:{unit:"",amount:"",code:""},coldWalletRule:{amount:[{required:!0,message:this.$t("currencymanagement.pleaseenterthetransferoutquantity"),trigger:"blur"}],code:[{required:!0,message:this.$t("currencymanagement.pleaseentertheverificationcode"),trigger:"blur"}]},phoneNum:"",count:0,timer:"",showPhoneCodeModal:!1,showColdWalletModal:!1,ifCreate:!0,userpage:[],filterSearch:{pageNo:1,pageSize:10,property:[],direction:[]},picUrlIcon:!1,basicUrl:o.BASICURL,config:{uploadUrl:o.BASICURL+"admin/common/upload/local/image",uploadName:"file",parentName:"coin",uploadParams:{},uploadCallback:function(t){if(e.uploading=!1,!t.code)return e.$Message.success(e.$t("addeditredenvelopes.uploadsuccessful")),t.data;e.$Message.error(e.$t("addeditredenvelopes.uploadfailed"))},uploadFailed:function(t){e.uploading=!1,console.log(t),e.$Message.error(e.$t("addeditredenvelopes.uploadfailed"))}},totalNum:null,ifLoading:!0,currentPageIdx:1,showDetailModal:!1,showUpdateModel:!1,detailModal:{},coinForm:{code:"",name:"",nameCn:"",unit:"",status:0,canWithdraw:0,canRecharge:0,sort:0,minTxFee:0,txFeeRate:0,cnyRate:0,usdRate:0,maxTxFee:0,enableRpc:0,canAutoWithdraw:0,withdrawThreshold:0,maxWithdrawAmount:0,minWithdrawAmount:0,infolink:"",information:"",minRechargeAmount:0,accountType:0,depositAddress:"",iconUrl:""},initForm:{code:"",name:"",nameCn:"",unit:"",status:0,canWithdraw:0,canRecharge:0,sort:0,minTxFee:0,cnyRate:0,usdRate:0,maxTxFee:0,txFeeRate:0,enableRpc:0,canAutoWithdraw:0,withdrawThreshold:0,maxWithdrawAmount:0,minWithdrawAmount:0,infolink:"",information:"",minRechargeAmount:0,accountType:0,depositAddress:"",iconUrl:""},columnsList:[{title:this.$t("currencymanagement.chinesename1"),key:"nameCn"},{title:this.$t("currencymanagement.nameenglish"),key:"name"},{title:this.$t("currencymanagement.currencyabbreviation"),key:"unit"},{title:"logo",width:120,render:function(e,t){return e("img",{attrs:{src:t.row.iconUrl},style:{height:"45px",padding:"5px 0px"}},"")}},{title:"状态",width:100,key:"status",render:function(e,t){var n=t.row,a=0===n.status?"启用":"禁用";return e("Tag",{props:{color:0===n.status?"green":"red"}},a)}},{title:"人民币汇率",width:100,key:"cnyRate"},{title:"USDT汇率",width:100,key:"usdRate"},{title:"汇率更新时间",width:200,key:"rateUpdateTime"},{title:this.$t("perpetualcontractcurrencystandardmanagement.operation"),width:130,render:function(t,n){return t("div",[t("Button",{props:{type:"text",size:"small"},style:{color:"#2d8cf0",marginRight:"5px"},on:{click:function(){(0,o.sysCoinDetail)({name:n.row.name}).then(function(t){t.code?e.$Message.error(t.message):(Object.assign(e.coinForm,t.data),console.log(e.coinForm),e.ifCreate=!1,e.showUpdateModel=!0)}).catch(function(e){return console.log(e)})}}},e.$t("perpetualcontractcurrencystandardmanagement.modify"))])}}]}},methods:{confirmSubCodeWallet:function(){var e=this;if(this.needCord){for(var t in this.coldWalletForm)if(""===this.coldWalletForm[t].trim())return void this.$Message.warning(this.$t("systeminformationmaintenance.pleaseimprovetheinformation"))}else if(""===this.coldWalletForm.unit.trim()||""===this.coldWalletForm.amount.trim())return void this.$Message.warning(this.$t("systeminformationmaintenance.pleaseimprovetheinformation"));(0,o.transferColdWallet)(this.coldWalletForm).then(function(t){t.code?e.$Message.error(t.message):e.$Message.success(t.message),e.showColdWalletModal=!1,e.enableTransferCoin=0,e.count=0}).catch(function(e){return console.log(e)})},getCode:function(e){var t=this,n="";"fixedInfo"===e?n=o.coinReviseSys:"coldWallet"===e&&(n=o.getColdWalletCode),n({phone:this.phoneNum}).then(function(e){t.$Notice.info({title:e.message|hidePhoneNum,desc:""})}).catch(function(e){console.log(e)})},getCodeTwice:function(e){this.count=60,this.getCode(e)},showNeedCode:function(){this.confirmSub()},cancelSub:function(){for(var e in this.coinForm)this.coinForm[e]="";for(var t in this.coldWalletForm)this.coldWalletForm[t]="";this.enableTransferCoin=0,this.coinForm.status=this.coinForm.canWithdraw=this.coinForm.canRecharge=this.coinForm.enableRpc=this.coinForm.canAutoWithdraw=0,this.showColdWalletModal=!1},confirmSub:function(){var e=this,t="";t=this.ifCreate?o.addSysCoin:o.updateSysCoin,console.log(this.coinForm),t(this.coinForm).then(function(t){t.code?e.$Message.error(t.message):e.$Message.success(t.message),e.refreshPage()}).catch(function(e){return console.log(e)})},addCoin:function(){this.cancelSub(),this.ifCreate=!0,this.coinForm=this.initForm,this.showUpdateModel=!0},refreshPage:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.ifLoading=!0,this.currentPageIdx=1,(0,o.querySysCoin)(this.filterSearch).then(function(t){t.code?e.$Message.error(t.message):(e.userpage=t.data.content,e.totalNum=t.data.totalElements),e.ifLoading=!1}).catch(function(e){return console.log(e)})},changePage:function(e){this.currentPageIdx=e,this.filterSearch.pageNo=e,this.refreshPage(this.filterSearch)},refreshPageManual:function(){this.refreshPage(this.filterSearch)},listenValUrl:function(){this.picUrlIcon=!0},imageUploading:function(e,t,n){this.ifShowPercentCircle=!0,this.percentage=t.percentage},uploadSuccessed:function(e,t,n){this.coinForm.iconUrl=e.data,this.ifShowPercentCircle=!1,this.$Message.success(this.$t("advertisingmanagement.uploadsuccessful"))},uploadFailed:function(e,t,n){this.ifShowPercentCircle=!1,this.$Message.error(this.$t("advertisingmanagement.uploadfailed"))}},created:function(){this.phoneNum=JSON.parse(a.default.get("userInfo")).mobilePhone,this.refreshPage()},filters:{hidePhoneNumFilter:function(e){return e.split("").fill("*",3,7).join("")}},watch:{count:function(e,t){var n=this;e>0?this.timer=setTimeout(function(){n.count--},1e3):clearTimeout(this.timer)}}}},373:function(e,t,n){var a=n(374);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(5)("70d9a168",a,!1,{})},374:function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"\n.transferTips[data-v-3a44073a] {\n  position: absolute;\n  bottom: -24px;\n  color: #999;\n  line-height: 23px;\n}\n",""])},375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n        "+e._s(e.$t("currencymanagement.currencymanagement"))+" "),n("Button",{attrs:{type:"primary",size:"small"},on:{click:e.refreshPageManual}},[n("Icon",{attrs:{type:"refresh"}}),e._v(e._s(e.$t("perpetualcontractcurrencystandardmanagement.refresh"))+"\n        ")],1)],1),e._v(" "),n("Row",{staticClass:"functionWrapper"},[n("div",{staticClass:"btnsWrapper clearfix"},[n("Button",{attrs:{type:"primary"},on:{click:e.addCoin}},[e._v(e._s(e.$t("currencymanagement.addcurrency")))])],1)]),e._v(" "),n("Row",[n("Table",{attrs:{columns:e.columnsList,data:e.userpage,border:"",loading:e.ifLoading}})],1),e._v(" "),n("div",{staticClass:"pageWrapper"},[n("Page",{attrs:{total:e.totalNum,"page-size":e.filterSearch.pageSize,current:e.currentPageIdx,"show-elevator":""},on:{"on-change":e.changePage}})],1)],1),e._v(" "),n("Modal",{attrs:{"mask-closable":!1,title:e.$t("currencymanagement.currencyinformationmodification")},on:{"on-cancel":e.cancelSub,"on-ok":e.showNeedCode},model:{value:e.showUpdateModel,callback:function(t){e.showUpdateModel=t},expression:"showUpdateModel"}},[n("Form",{staticClass:"form",attrs:{model:e.coinForm,"label-width":80}},[n("FormItem",{attrs:{label:e.$t("currencymanagement.chinesename")}},[n("Input",{model:{value:e.coinForm.nameCn,callback:function(t){e.$set(e.coinForm,"nameCn",t)},expression:"coinForm.nameCn"}})],1),e._v(" "),n("FormItem",{attrs:{label:e.$t("currencymanagement.englishname")}},[n("Input",{model:{value:e.coinForm.name,callback:function(t){e.$set(e.coinForm,"name",t)},expression:"coinForm.name"}})],1),e._v(" "),n("FormItem",{attrs:{label:e.$t("currencymanagement.currencyunit")}},[n("Input",{attrs:{placeHolder:e.$t("currencymanagement.msg1")},model:{value:e.coinForm.unit,callback:function(t){e.$set(e.coinForm,"unit",t)},expression:"coinForm.unit"}})],1),e._v(" "),n("FormItem",{attrs:{label:e.$t("currencymanagement.currencyprofile")}},[n("Input",{model:{value:e.coinForm.information,callback:function(t){e.$set(e.coinForm,"information",t)},expression:"coinForm.information"}})],1),e._v(" "),n("FormItem",{attrs:{label:e.$t("currencymanagement.detailslink")}},[n("Input",{model:{value:e.coinForm.infolink,callback:function(t){e.$set(e.coinForm,"infolink",t)},expression:"coinForm.infolink"}})],1),e._v(" "),n("FormItem",{attrs:{label:e.$t("currencymanagement.currencylogo")}},[n("Upload",{attrs:{action:e.basicUrl+"admin/common/upload/local/image","on-success":e.uploadSuccessed,"on-error":e.uploadFailed,"on-progress":e.imageUploading,"show-upload-list":!1}},[n("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[e._v(e._s(e.$t("advertisingmanagement.addpicture")))])],1)],1),e._v(" "),n("FormItem",{attrs:{label:e.$t("currencymanagement.currencylogoaddress")}},[n("Input",{staticStyle:{width:"100%"},attrs:{disabled:""},on:{"on-blur":e.listenValUrl},model:{value:e.coinForm.iconUrl,callback:function(t){e.$set(e.coinForm,"iconUrl",t)},expression:"coinForm.iconUrl"}}),e._v(" "),e.picUrlIcon?n("span",[e.coinForm.iconUrl?n("Icon",{staticStyle:{color:"green"},attrs:{type:"checkmark-round"}}):n("Icon",{attrs:{type:"close-round"}})],1):e._e()],1),e._v(" "),n("Row",[n("Col",{attrs:{span:"8"}},[n("FormItem",{attrs:{label:e.$t("handlingchargemanagement.recharge")}},[n("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:e.coinForm.canRecharge,callback:function(t){e.$set(e.coinForm,"canRecharge",t)},expression:"coinForm.canRecharge"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("currencymanagement.toopenup")))]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("perpetualcontractcurrencystandardmanagement.prohibit")))])])],1)],1),e._v(" "),n("Col",{attrs:{span:"8"}},[n("FormItem",{attrs:{label:e.$t("handlingchargemanagement.withdrawal")}},[n("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:e.coinForm.canWithdraw,callback:function(t){e.$set(e.coinForm,"canWithdraw",t)},expression:"coinForm.canWithdraw"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("perpetualcontractustandardmanagement.enable")))]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("currencyextensionmanagement.disable")))])])],1)],1),e._v(" "),n("Col",{attrs:{span:"8"}},[n("FormItem",{attrs:{label:e.$t("managementofoptioncontractsineachperiod.status")}},[n("i-switch",{attrs:{"true-value":0,"false-value":1,size:"large"},model:{value:e.coinForm.status,callback:function(t){e.$set(e.coinForm,"status",t)},expression:"coinForm.status"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("perpetualcontractustandardmanagement.enable")))]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("currencyextensionmanagement.disable")))])])],1)],1)],1),e._v(" "),n("FormItem",{attrs:{label:"最小充值(买入)数:"}},[n("Input",{model:{value:e.coinForm.minRechargeAmount,callback:function(t){e.$set(e.coinForm,"minRechargeAmount",t)},expression:"coinForm.minRechargeAmount"}})],1),e._v(" "),n("Row",[n("Col",{attrs:{span:"8"}},[n("FormItem",{attrs:{label:"提币最小手续费(固定 0不限制):"}},[n("Input",{model:{value:e.coinForm.minTxFee,callback:function(t){e.$set(e.coinForm,"minTxFee",t)},expression:"coinForm.minTxFee"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"8"}},[n("FormItem",{attrs:{label:"提币最大手续费(固定 0不限制):"}},[n("Input",{model:{value:e.coinForm.maxTxFee,callback:function(t){e.$set(e.coinForm,"maxTxFee",t)},expression:"coinForm.maxTxFee"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"8"}},[n("FormItem",{attrs:{label:"提币手续费比例:"}},[n("Input",{model:{value:e.coinForm.txFeeRate,callback:function(t){e.$set(e.coinForm,"txFeeRate",t)},expression:"coinForm.txFeeRate"}})],1)],1)],1),e._v(" "),n("Row",[n("Col",{attrs:{span:"12"}},[n("FormItem",{attrs:{label:"最小提币(卖出)量:"}},[n("Input",{model:{value:e.coinForm.minWithdrawAmount,callback:function(t){e.$set(e.coinForm,"minWithdrawAmount",t)},expression:"coinForm.minWithdrawAmount"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"12"}},[n("FormItem",{attrs:{label:"最大提币(卖出)量:"}},[n("Input",{model:{value:e.coinForm.maxWithdrawAmount,callback:function(t){e.$set(e.coinForm,"maxWithdrawAmount",t)},expression:"coinForm.maxWithdrawAmount"}})],1)],1)],1),e._v(" "),n("Row",[n("Col",{attrs:{span:"12"}},[n("FormItem",{attrs:{label:e.$t("currencymanagement.rmbrate")}},[n("Input",{model:{value:e.coinForm.cnyRate,callback:function(t){e.$set(e.coinForm,"cnyRate",t)},expression:"coinForm.cnyRate"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"12"}},[n("FormItem",{attrs:{label:e.$t("currencymanagement.usdexchangerate")}},[n("Input",{model:{value:e.coinForm.usdRate,callback:function(t){e.$set(e.coinForm,"usdRate",t)},expression:"coinForm.usdRate"}})],1)],1)],1),e._v(" "),n("Row",[n("Col",{attrs:{span:"12"}},[n("FormItem",{attrs:{label:e.$t("currencymanagement.sort")}},[n("Input",{model:{value:e.coinForm.sort,callback:function(t){e.$set(e.coinForm,"sort",t)},expression:"coinForm.sort"}}),e._v("数字越大，手机端越靠前\n\t\t    ")],1)],1)],1)],1)],1),e._v(" "),n("Modal",{attrs:{title:e.$t("currencymanagement.transfertocoldwallet"),width:"380","mask-closable":!1},model:{value:e.showColdWalletModal,callback:function(t){e.showColdWalletModal=t},expression:"showColdWalletModal"}},[n("Row",{attrs:{slot:"footer"},slot:"footer"},[n("Col",{attrs:{span:"11"}},[n("Button",{attrs:{type:"info",long:""},on:{click:e.confirmSubCodeWallet}},[e._v(e._s(e.$t("currencymanagement.transfertocoldwallet")))])],1),e._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("Button",{attrs:{long:""},on:{click:e.cancelSub}},[e._v(e._s(e.$t("currencywithdrawalauditmanagement.cancel")))])],1)],1)],1)],1)};a._withStripped=!0;var o={render:a,staticRenderFns:[]};t.default=o}});