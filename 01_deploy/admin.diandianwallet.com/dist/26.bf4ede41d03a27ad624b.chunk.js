webpackJsonp([26],{217:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(299),n=r.n(a);for(var i in a)"default"!==i&&function(e){r.d(t,e,function(){return a[e]})}(i);var s=r(390),o=r.n(s),m=!1;var c=function(e){m||r(388)},l=r(0)(n.a,o.a,!1,c,"data-v-0ffb243d",null);l.options.__file="src\\views\\member\\MemberManage.vue",t.default=l.exports},299:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(11),n=r(22);t.default={data:function(){var e=this;return{currentPageIdx:1,filterSearch:{account:"",commonStatus:"",superPartner:""},detailModel:!1,userId:"",inviterId:null,memberStatusArr:[{status:0,text:this.$t("querymarginstrategy.normal")},{status:1,text:this.$t("membermanagement.illegal")},{status:"",text:this.$t("transactiondetailsinlegalcurrency.all")}],superPartnerArr:[{value:"0",text:this.$t("perpetualcontractcurrencystandardmanagement.no")},{value:"2",text:this.$t("perpetualcontractcurrencystandardmanagement.yes")}],totalNum:null,ifLoading:!0,usemmuber:"",pageIndex:1,loading:!0,columns_first:[{type:"selection",width:60},{title:this.$t("auditdetails.memberid"),key:"id",width:80},{title:this.$t("memberinvitationlist.membername"),key:"username",width:180},{title:this.$t("membermanagement.mobilenumber"),key:"mobilePhone",width:130},{title:this.$t("membermanagement.bindAppValue"),key:"bindAppValue",width:130},{title:this.$t("businessinformation.realname"),key:"realName",width:90},{title:this.$t("membermanagement.inviteeid"),key:"inviterId",width:90},{title:this.$t("realnamemanagement.registrationtime"),width:150,key:"registrationTime"},{title:this.$t("membermanagement.transactionstatus"),key:"transactionStatus",width:90,render:function(t,r){return t("span",{},r.row.transactionStatus?e.$t("querymarginstrategy.normal"):e.$t("currencyextensionmanagement.disable"))}},{title:this.$t("managementofoptioncontractsineachperiod.status"),width:90,key:"status",render:function(t,r){return t("span",{},0===r.row.status?e.$t("querymarginstrategy.normal"):e.$t("membermanagement.illegal"))}},{title:this.$t("surrendermanagement.membermailbox"),key:"email",width:200},{title:this.$t("membermanagement.agent"),width:120,key:"memberLevel",render:function(t,r){var a=r.row.memberLevel,n=null;return 2!=a&&(n=e.$t("certifiedmerchants.ordinarymember")),2===a&&(n=e.$t("membermanagement.superpartner")),t("span",{},n)}},{title:this.$t("perpetualcontractcurrencystandardmanagement.operation"),key:"action",width:300,fixed:"right",align:"center",render:function(t,r){var i=r.row.status?0:1,s=r.row.status?e.$t("membermanagement.unblock"):e.$t("currencyextensionmanagement.disable"),o=r.row.transactionStatus?0:1,m=r.row.transactionStatus?e.$t("membermanagement.prohibittransactions"):e.$t("perpetualcontractcurrencystandardmanagement.allowtransactions"),c=2===r.row.memberLevel?"0":"1",l=2===r.row.memberLevel?e.$t("membermanagement.cancelagent"):e.$t("membermanagement.authorizedagents"),u=e.$t("membermanagement.deleteUser");return t("div",{},[t("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px"},on:{click:function(){(0,a.removeStore)("memberID"),(0,a.setStore)("memberID",r.row.id),e.$router.push("/member/memberdetail")}}},e.$t("transactiondetailsinlegalcurrency.view")),t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){null==r.row.inviterId?(e.detailModel=!0,e.userId=r.row.id):e.$Message.error(e.$t("membermanagement.inviteealreadyexists"))}}},e.$t("membermanagement.setinvitees")),t(e.$t("dropdown"),{props:{transfer:!0},on:{"on-click":function(t){"forbidden"===t?(0,n.forbiddenMember)({memberId:r.row.id,status:i}).then(function(t){t.code?e.$Message.error(t.message):e.$Message.success(t.message),e.refreshPage({pageNo:e.currentPageIdx,pageSize:10,property:"registrationTime",direction:1})}).catch(function(e){console.log(e)}):"forbiddenTrans"===t?(0,n.forbiddenMemberTrans)({memberId:r.row.id,status:o}).then(function(t){t.code?e.$Message.error(t.message):e.$Message.success(t.message),e.refreshPage({pageNo:e.currentPageIdx,pageSize:10,property:"registrationTime",direction:1})}):"setSuperSpartner"===t?(0,n.setSuperPartner)({memberId:r.row.id,superPartner:c}).then(function(t){t.code?e.$Message.error(t.message):e.$Message.success(t.message),e.refreshPage({pageNo:e.currentPageIdx,pageSize:10,property:"registrationTime",direction:1})}):"deleteUser"==t&&(0,n.deleteMember)({id:r.row.id}).then(function(t){t.code?e.$Message.error(t.message):e.$Message.success(t.message),e.refreshPage({pageNo:e.currentPageIdx,pageSize:10,property:"registrationTime",direction:1})})}}},[t("DropdownMenu",{slot:"list"},[t("DropdownItem",{props:{name:"forbidden"}},s),t("DropdownItem",{props:{name:"forbiddenTrans"}},m),t("DropdownItem",{props:{name:"setSuperSpartner"}},l),t("DropdownItem",{props:{name:"deleteUser"}},u)]),t("Button",{props:{type:"text",size:"small"},style:{color:"#2d8cf0",marginRight:"5px"}},e.$t("membermanagement.more"))])])}}],userpage:[],inviteFormVisible:!1,inviteFormData:{memberId:"",username:"",toUsername:""},inviteFormRules:{toUsername:[{required:!0,message:this.$t("membermanagement.pleaseenteremailormobilenumber"),trigger:"blur"}]},inviteFormLoading:!1}},methods:{clickInviteForm:function(e){this.inviteFormData.memberId=e.id,this.inviteFormData.username=e.username,this.inviteFormVisible=!0},hideInviteForm:function(){this.inviteFormVisible=!1},inviteFormSubmit:function(){var e=this;if(this.inviteFormLoading)return!1;this.$refs.inviteForm.validate(function(t){if(t){e.inviteFormLoading=!0;var r=Object.assign({},e.inviteFormData);(0,n.memberUpdateInvite)(r).then(function(t){if(e.inviteFormLoading=!1,t.code)return e.$Message.error(t.message),!1;e.$Message.success(e.$t("currencywithdrawalauditmanagement.operationsuccessful")),e.inviteFormVisible=!1}).catch(function(){e.inviteFormLoading=!1,e.$Message.error(e.$t("membermanagement.networkerror"))})}})},refreshPageManual:function(){for(var e in this.filterSearch)this.filterSearch[e]="";this.currentPageIdx=1,this.refreshPage({pageNo:1,pageSize:10,property:"registrationTime",direction:1})},exportExcel:function(){this.$refs.tabel.exportCsv({filename:"MemberManage"})},searchByFilter:function(){var e=this;this.$store.commit("switchLoading",!0),(0,n.memberManage)(this.filterSearch).then(function(t){t.code?console.log(e.$Message.error(t.message)):(e.ifLoading=!1,e.userpage=t.data.content,e.totalNum=t.data.totalElements,e.$store.commit("switchLoading",!1))}).catch(function(e){return console.log(e)})},changePage:function(e){this.currentPageIdx=e,this.ifLoading=!0;var t=Object.assign({pageNo:e,pageSize:10,property:"registrationTime",direction:1},this.filterSearch);this.refreshPage(t)},setInviterDetail:function(){var e=this,t={id:this.userId,inviterId:this.inviterId};(0,n.setInviter)(t).then(function(t){t.code?e.$Message.error(t.message):(e.$Message.success(e.$t("perpetualcontractcurrencystandardmanagement.modificationsucceeded")),e.refreshPageManual())})},refreshPage:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.ifLoading=!0,(0,n.memberManage)(t).then(function(t){t.code||(e.ifLoading=!1,e.userpage=t.data.content,e.totalNum=t.data.totalElements)})}},created:function(){this.refreshPage({property:"registrationTime",direction:1})}}},388:function(e,t,r){var a=r(389);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(5)("5036b7d7",a,!1,{})},389:function(e,t,r){(e.exports=r(4)(!1)).push([e.i,"\n.search-mask[data-v-0ffb243d] {\n  position: absolute;\n  z-index: 8888;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.2);\n}\n",""])},390:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Card",[r("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n        "+e._s(e.$t("membermanagement.membermanagement"))+"\n        "),r("Button",{attrs:{type:"primary",size:"small"},on:{click:e.refreshPageManual}},[r("Icon",{attrs:{type:"refresh"}}),e._v(e._s(e.$t("perpetualcontractcurrencystandardmanagement.refresh"))+"\n        ")],1)],1),e._v(" "),r("Row",{staticClass:"functionWrapper"},[r("div",{staticClass:"searchWrapper clearfix"},[r("div",{staticClass:"poptip"},[r("Poptip",{attrs:{trigger:"hover",content:e.$t("membermanagement.note1"),placement:"bottom-start"}},[r("Input",{staticStyle:{width:"300px"},attrs:{placeholder:e.$t("membermanagement.note1")},model:{value:e.filterSearch.account,callback:function(t){e.$set(e.filterSearch,"account",t)},expression:"filterSearch.account"}})],1)],1),e._v(" "),r("div",{staticClass:"poptip"},[r("span",[e._v(e._s(e.$t("certifiedmerchants.memberstatus")))]),e._v(" "),r("Select",{model:{value:e.filterSearch.commonStatus,callback:function(t){e.$set(e.filterSearch,"commonStatus",t)},expression:"filterSearch.commonStatus"}},e._l(e.memberStatusArr,function(t){return r("Option",{key:t.status,attrs:{value:t.status}},[e._v(e._s(t.text))])}))],1),e._v(" "),r("div",{staticClass:"poptip"},[r("span",[e._v(e._s(e.$t("membermanagement.agentornot")))]),e._v(" "),r("Select",{model:{value:e.filterSearch.memberLevel,callback:function(t){e.$set(e.filterSearch,"memberLevel",t)},expression:"filterSearch.memberLevel"}},e._l(e.superPartnerArr,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])}))],1),e._v(" "),r("div",{staticClass:"btns"},[r("Button",{attrs:{type:"info",size:"small"},on:{click:e.searchByFilter}},[e._v(e._s(e.$t("positionmanagementcontractassetmanagement.search")))])],1)]),e._v(" "),r("div",{staticClass:"btnsWrapper clearfix"},[r("Button",{attrs:{type:"success"},on:{click:e.exportExcel}},[e._v(e._s(e.$t("positionmanagementcontractassetmanagement.export")))])],1)]),e._v(" "),r("Row",{staticClass:"margin-top-10 searchable-table-con1"},[r("Table",{ref:"tabel",staticClass:"user_center",attrs:{columns:e.columns_first,data:e.userpage,border:"",loading:e.ifLoading}})],1),e._v(" "),r("Row",{staticClass:"pageWrapper"},[r("Page",{staticStyle:{"margin-top":"8px"},attrs:{total:e.totalNum,current:e.currentPageIdx,"show-elevator":""},on:{"on-change":e.changePage}})],1)],1),e._v(" "),r("Modal",{attrs:{title:e.$t("membermanagement.setinvitees"),"mask-closable":!1},on:{"on-ok":e.setInviterDetail},model:{value:e.detailModel,callback:function(t){e.detailModel=t},expression:"detailModel"}},[r("ul",[r("li",[r("span",[r("i",[e._v("*")]),e._v("ID：")]),e._v(" "),r("p",[r("Input",{attrs:{disabled:""},model:{value:this.userId,callback:function(t){e.$set(this,"userId",t)},expression:"this.userId"}}),e._v(" "),r("span",[e._v(e._s())])],1)]),e._v(" "),r("li",[r("span",[r("i",[e._v("*")]),e._v(e._s(e.$t("membermanagement.settheidoftheinvitee")))]),e._v(" "),r("p",[r("Input",{model:{value:e.inviterId,callback:function(t){e.inviterId=t},expression:"inviterId"}})],1)])])])],1)};a._withStripped=!0;var n={render:a,staticRenderFns:[]};t.default=n}});