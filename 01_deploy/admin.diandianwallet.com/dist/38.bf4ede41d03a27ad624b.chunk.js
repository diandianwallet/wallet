webpackJsonp([38],{216:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(298),o=t.n(a);for(var r in a)"default"!==r&&function(e){t.d(n,e,function(){return a[e]})}(r);var s=t(387),i=t.n(s),c=!1;var l=function(e){c||t(385)},u=t(0)(o.a,i.a,!1,l,"data-v-178a9145",null);u.options.__file="src\\views\\content\\AnnounceManage.vue",n.default=u.exports},298:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=i(t(23)),o=t(22),r=i(t(58)),s=t(11);function i(e){return e&&e.__esModule?e:{default:e}}n.default={data:function(){var e=this;return{currentPageIdx:1,ifDelete:!1,ifLoading:!0,id:null,ifUpdateBtn:!1,selectedArr:[],announcementArr:[],current:1,totalNum:null,manageModal:!1,manageTitle:null,manageClass:null,manageClassArr:[{status:0,klassName:this.$t("announcementmanagement.commoncategories")}],imgUrl:null,createTime:null,ifSHow:null,ifShowArr:[{status:0,klassName:this.$t("perpetualcontractcurrencystandardmanagement.display")},{status:1,klassName:this.$t("announcementmanagement.dontshow")}],columns_first:[{type:"selection",width:60},{title:this.$t("announcementmanagement.no"),key:"id",width:80},{title:this.$t("announcementmanagement.title"),key:"title",width:400},{title:this.$t("announcementmanagement.language"),key:"lang",render:function(n,t){var a=t.row.lang,o=e.$t("announcementmanagement.chinese");return"en_US"==a&&(o="English"),"ja_JP"==a&&(o=e.$t("announcementmanagement.japanese")),"ko_KR"==a&&(o=e.$t("announcementmanagement.korean")),"de_DE"==a&&(o=e.$t("announcementmanagement.german")),"fr_FR"==a&&(o=e.$t("announcementmanagement.french")),"it_IT"==a&&(o=e.$t("announcementmanagement.italy")),"es_ES"==a&&(o=e.$t("announcementmanagement.spain")),"zh_HK"==a&&(o=e.$t("announcementmanagement.traditionalchinese")),n("span",{},o)}},{title:this.$t("announcementmanagement.releasetime"),key:"createTime",width:140},{title:this.$t("perpetualcontractcurrencystandardmanagement.display"),render:function(n,t){return n("span",{},t.row.isShow?e.$t("perpetualcontractcurrencystandardmanagement.yes"):e.$t("perpetualcontractcurrencystandardmanagement.no"))}},{title:this.$t("announcementmanagement.top"),render:function(n,t){return n("span",{},0==t.row.isTop?e.$t("perpetualcontractcurrencystandardmanagement.yes"):e.$t("perpetualcontractcurrencystandardmanagement.no"))}},{title:this.$t("perpetualcontractcurrencystandardmanagement.operation"),width:250,render:function(n,t){return n("div",[n("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px"},on:{click:function(){(0,s.removeStore)("manageID"),(0,s.setStore)("manageID",t.row.id),e.$router.push("/content/announceManage/addAnnounce")}}},e.$t("usermanagement.viewedit")),n("Button",{props:{type:"error",size:"small"},on:{click:function(){(0,o.stickTopAnnounce)({id:t.row.id}).then(function(n){n.code?e.$Message.error(n.message):(e.$Message.success(n.message),e.refreshPage())}).catch(function(e){return console.log(e)})}}},e.$t("announcementmanagement.top")),n("Button",{props:{type:"error",size:"small"},style:{marginLeft:"6px"},on:{click:function(){(0,o.manageDown)({id:t.row.id}).then(function(n){n.code?e.$Message.error(n.message):(e.$Message.success(n.message),e.refreshPage())}).catch(function(e){return console.log(e)})}}},e.$t("announcementmanagement.canceltopping"))])}}]}},methods:{refreshPageManual:function(){this.ifLoading=!0,this.refreshPage({pageNo:this.currentPageIdx,pageSize:10})},confirmDel:function(){var e=this,n=[];this.selectedArr.forEach(function(e){n.push(e.id)});a.default.stringify({ids:n},{arrayFormat:"repeat"});(0,o.delAnnounce)({ids:n}).then(function(n){n.code?e.$Message.error(e.$t("secondcontractcompensationsetting.deletionfailed")):(e.refreshPage({pageNo:1,pageSize:10}),e.$Message.success(e.$t("secondcontractcompensationsetting.deletesuccessfully")))})},cancelDel:function(){this.$Message.success(this.$t("secondcontractcompensationsetting.cancelled"))},delOneAnnounce:function(){this.selectedArr.length?this.ifDelete=!0:this.$Message.warning(this.$t("secondcontractcompensationsetting.note3"))},updateManage:function(){var e=this,n={id:this.id,title:this.manageTitle,sysHelpClassification:this.manageClass,imgUrl:this.imgUrl,status:this.ifSHow,createTime:(0,r.default)(this.createTime).format("YYYY-MM-DD HH:mm:ss")};(0,o.updateHelpManage)(n).then(function(n){n.code?e.$Message.error(e.$t("announcementmanagement.exceptionoccurred")):(e.manageModal=!1,e.$Message.success(e.$t("announcementmanagement.updatesucceeded")),e.refreshPage())})},cancelAdd:function(){this.manageModal=!1},showModel:function(){this.manageModal=!0},addOneAnnounce:function(){this.$router.push("/content/announceManage/addAnnounce")},select:function(e){this.selectedArr=e},changePage:function(e){this.currentPageIdx=e,this.refreshPage({pageNo:e,pageSize:10})},refreshPage:function(e){var n=this;(0,s.removeStore)("manageID"),(0,o.announceManage)(e).then(function(e){n.ifLoading=!1,n.announcementArr=e.data.content,n.totalNum=e.data.totalElements})}},created:function(){this.refreshPage()}}},385:function(e,n,t){var a=t(386);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t(5)("847c2042",a,!1,{})},386:function(e,n,t){(e.exports=t(4)(!1)).push([e.i,"\n.manageRow[data-v-178a9145] {\n  height: 45px;\n}\n.pageWrapper[data-v-178a9145] {\n  text-align: right;\n  margin: 25px;\n}\n.manageWrapper[data-v-178a9145] {\n  text-align: right;\n}\n.manageWrapper Button[data-v-178a9145] {\n  margin-right: 10px;\n}\n.manageModal p[data-v-178a9145],\n.manageModal div[data-v-178a9145] {\n  margin-bottom: 10px;\n}\n.manageModal p span[data-v-178a9145],\n.manageModal div span[data-v-178a9145] {\n  display: inline-block;\n  font-size: 15px;\n  text-align: right;\n}\n.manageModal p span i[data-v-178a9145],\n.manageModal div span i[data-v-178a9145] {\n  color: red;\n  font-weight: 700;\n  font-style: normal;\n}\n.manageModal .ivu-input-wrapper.ivu-input-type[data-v-178a9145] {\n  width: 70%;\n}\n",""])},387:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("Card",[t("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n      "+e._s(e.$t("announcementmanagement.announcementmanagement"))+" "),t("Button",{attrs:{type:"primary",size:"small"},on:{click:e.refreshPageManual}},[t("Icon",{attrs:{type:"refresh"}}),e._v("\n        "+e._s(e.$t("perpetualcontractcurrencystandardmanagement.refresh"))+" ")],1)],1),e._v(" "),t("Row",{staticClass:"manageRow clearfix"},[t("div",{staticClass:"manageWrapper"},[t("Button",{attrs:{type:"error"},on:{click:e.delOneAnnounce}},[e._v(e._s(e.$t("secondcontractcompensationsetting.delete")))]),e._v(" "),t("Button",{attrs:{type:"info"},on:{click:e.addOneAnnounce}},[e._v(e._s(e.$t("announcementmanagement.addto")))])],1)]),e._v(" "),t("Row",[t("Table",{attrs:{border:"",columns:e.columns_first,data:e.announcementArr,loading:e.ifLoading},on:{"on-selection-change":e.select}})],1),e._v(" "),t("Row",{staticClass:"pageWrapper"},[t("Page",{staticClass:"buttomPage",attrs:{total:e.totalNum,current:e.current,"show-elevator":""},on:{"on-change":e.changePage}})],1),e._v(" "),t("Modal",{attrs:{title:"$t('secondcontractcompensationsetting.delete')"},on:{"on-ok":e.confirmDel,"on-cancel":e.cancelDel},model:{value:e.ifDelete,callback:function(n){e.ifDelete=n},expression:"ifDelete"}},[t("p",[e._v(e._s(e.$t("shi-fou-shan-chu-yi-xuan-ze-de-selectedarrlength-xiang",[e.selectedArr.length])))])])],1)],1)};a._withStripped=!0;var o={render:a,staticRenderFns:[]};n.default=o}});