webpackJsonp([9],{233:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(315),i=a.n(r);for(var s in r)"default"!==s&&function(e){a.d(t,e,function(){return r[e]})}(s);var n=a(438),o=a.n(n),l=!1;var d=function(e){l||a(436)},u=a(0)(i.a,o.a,!1,d,"data-v-67e86b68",null);u.options.__file="src\\views\\third\\ThirdList.vue",t.default=u.exports},315:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getData=__webpack_require__(22),_storage=__webpack_require__(11),_util=__webpack_require__(6),_util2=_interopRequireDefault(_util);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default={data:function(){var e=this;return{totalBalance:0,handleFailModel:!1,handleResultWhenFail:"",handleAuditModel:!1,handleAuditReason:"",handlePass:"",queryId:null,btnEvent:"",btnEventString:"",loginPW:"",basicUrl:_getData.BASICURL,filterSearch:{pageNo:1,pageSize:10},detailOrder:{},currentPageIdx:1,ifLoading:!0,pageNum:null,orderList:[],columns:[{type:"index",width:30,render:function(e,t){return e(expandRow,{props:{skin:t.row.skin,rows:t.row.detail}})}},{title:"下单时间",key:"createTime",minWidth:160,render:function(e,t){return e("span",{},_util2.default.parseTime(t.row.createTime/1e3))}},{title:"用户",key:"memberId",minWidth:100},{title:"订单编号",key:"orderSn",minWidth:200,render:function(e,t){return e("span",{},t.row.orderSn)}},{title:"订单状态",key:"orderStatus",minWidth:95,render:function(e,t){return 0==t.row.orderStatus?e("div",{},[e("span",{},"处理中")]):1==t.row.orderStatus?e("div",{},[e("span",{},"订单成功")]):2==t.row.orderStatus?e("div",{},[e("span",{},"订单失败")]):3==t.row.orderStatus?e("div",{},[e("span",{},"订单审核中")]):void 0}},{title:"交易状态",key:"txStatus",minWidth:95,render:function(e,t){return 0==t.row.txStatus?e("div",{},[e("span",{},"处理中")]):1==t.row.txStatus?e("div",{},[e("span",{},"交易成功")]):2==t.row.txStatus?e("div",{},[e("span",{},"交易失败")]):void 0}},{title:"类型",key:"isRecharge",minWidth:70,render:function(e,t){var a=1==t.row.isRecharge?"充值":"提现";return e("div",{style:{color:0==t.row.isRecharge?"#42b983":"#FF0000"}},[e("span",{},a)])}},{title:"总额(CNY)",key:"money",minWidth:105,render:function(e,t){return e("span",{},t.row.money.toFixed(2))}},{title:"数字资产",key:"coinMoney",minWidth:115,render:function(e,t){return e("span",{},t.row.coinMoney)}},{title:"货币",key:"coin",minWidth:100,render:function(e,t){return e("span",{},t.row.coin)}},{title:"用户地址",key:"address",minWidth:200,render:function(e,t){return e("a",{attrs:{href:"https://www.oklink.com/zh-cn/trx/address/"+t.row.address,target:"_blank"}},t.row.address)}},{title:"平台地址",key:"platAddress",minWidth:200,render:function(e,t){return e("a",{attrs:{href:"https://www.oklink.com/zh-cn/trx/address/"+t.row.platAddress,target:"_blank"}},t.row.platAddress)}},{title:"交易号",key:"txId",minWidth:200,render:function(e,t){return e("a",{attrs:{href:"https://www.oklink.com/zh-cn/trx/tx/"+t.row.txId,target:"_blank"}},t.row.txId)}},{title:"数字资产交易失败原因",key:"txFailReason",minWidth:200},{title:"订单失败原因",key:"orderFailReason",minWidth:200},{title:"失败是否处理",key:"isHandleWhenFail",minWidth:95,render:function(e,t){return 0==t.row.isHandleWhenFail?e("div",{},[e("span",{},"否")]):1==t.row.isHandleWhenFail?e("div",{},[e("span",{},"是")]):void 0}},{title:"失败处理结果",key:"handleResultWhenFail",minWidth:200},{title:"操作",key:"id",align:"center",fixed:"right",minWidth:200,render:function(t,a){return 2!=a.row.orderStatus&&2!=a.row.txStatus||0!=a.row.isHandleWhenFail?3==a.row.orderStatus?t("div",[t("Button",{props:{type:"success",size:"small"},style:{marginRight:"10px"},on:{click:function(){e.queryId=a.row.id,e.handleAuditModel=!0,e.handleAuditReason=""}}},"审核")]):void 0:t("div",[t("Button",{props:{type:"success",size:"small"},style:{marginRight:"10px"},on:{click:function(){e.queryId=a.row.id,e.handleFailModel=!0}}},"失败处理")])}}],query:{pageNo:1,pageSize:10,is_recharge:-1,order_status:-1,tx_status:-1,isHandleWhenFail:-1,search:"",member_id:"",startProcessTime:"",endProcessTime:""},processtimeArr:[]}},methods:{handleFail:function(){var e=this;this.ifLoading=!0;var t={id:this.queryId,reason:this.handleResultWhenFail};(0,_getData.thirdAppOrderHandleFail)(t).then(function(t){t.code?e.$Message.error(t.message):(e.ifLoading=!1,e.handleFailModel=!1,e.handleResultWhenFail="",e.refreshPage())})},handleAudit:function(){var e=this;this.ifLoading=!0;var t={id:this.queryId,reason:this.handleAuditReason,isPass:this.handlePass};(0,_getData.thirdAppOrderHandleAudit)(t).then(function(t){t.code?e.$Message.error(t.message):(e.ifLoading=!1,e.handleAuditModel=!1,e.handleAuditReason="",e.refreshPage())})},refreshPageManual:function(){for(var e in this.currentPageIdx=1,this.filterSearch)this.filterSearch[e]="";this.filterSearch.pageNo=1,this.filterSearch.pageSize=10,this.refreshPage(this.filterSearch)},changePage:function(e){this.currentPageIdx=e,this.filterSearch.pageNo=e,this.refreshPage(this.filterSearch)},onReset:function(){this.query={pageNo:1,pageSize:10,is_recharge:-1,order_status:-1,isHandleWhenFail:-1,tx_status:-1,search:"",member_id:"",startProcessTime:"",endProcessTime:""},this.refreshPage()},onSubmit:function(){this.$router.push({path:"",query:this.query}),this.refreshPage()},refreshPage:function refreshPage(obj){var _this4=this;this.ifLoading=!0,this.processtimeArr.length>=2&&this.processtimeArr[0]&&this.processtimeArr[1]&&(this.query.startProcessTime=_util2.default.parseTime(this.processtimeArr[0]),this.query.endProcessTime=_util2.default.parseTime(this.processtimeArr[1])),(0,_getData.thirdAppOrderList)(this.query).then(function(res){if(res.code)_this4.$Message.error(res.message);else{_this4.ifLoading=!1;var obj=eval("("+res.data.list+")");_this4.pageNum=res.data&&obj.totalElements||1,_this4.totalBalance=res.data.totalBalance,_this4.orderList=res.data&&obj.content||[]}})}},created:function(){var e=this.$route.query;this.query=Object.assign(this.query,e),this.query.limit=parseInt(this.query.limit),this.refreshPage()}}},436:function(e,t,a){var r=a(437);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(5)("2fff7280",r,!1,{})},437:function(e,t,a){(e.exports=a(4)(!1)).push([e.i,"\n.ivu-upload[data-v-67e86b68]{\n  display: inline-block;\n}\n",""])},438:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n                "+e._s(e.$t("thirdAppOrderManagement.title"))+"\n                    "),a("Button",{attrs:{type:"primary",size:"small"},on:{click:e.refreshPageManual}},[a("Icon",{attrs:{type:"refresh"}}),e._v("刷新\n                    ")],1)],1),e._v(" "),a("Row",{staticClass:"functionWrapper"},[a("div",{staticClass:"searchWrapper clearfix"},[a("div",{staticClass:"poptip"},[a("span",[e._v("类型")]),e._v(" "),a("Select",{model:{value:e.query.is_recharge,callback:function(t){e.$set(e.query,"is_recharge",t)},expression:"query.is_recharge"}},[a("Option",{attrs:{value:-1}},[e._v("请选择")]),e._v(" "),a("Option",{attrs:{value:0}},[e._v("提现")]),e._v(" "),a("Option",{attrs:{value:1}},[e._v("充值")])],1)],1),e._v(" "),a("div",{staticClass:"poptip"},[a("span",[e._v("订单状态")]),e._v(" "),a("Select",{model:{value:e.query.order_status,callback:function(t){e.$set(e.query,"order_status",t)},expression:"query.order_status"}},[a("Option",{attrs:{value:-1}},[e._v("请选择")]),e._v(" "),a("Option",{attrs:{value:0}},[e._v("处理中")]),e._v(" "),a("Option",{attrs:{value:1}},[e._v("成功")]),e._v(" "),a("Option",{attrs:{value:2}},[e._v("失败")]),e._v(" "),a("Option",{attrs:{value:3}},[e._v("审核中")])],1)],1),e._v(" "),a("div",{staticClass:"poptip"},[a("span",[e._v("交易状态")]),e._v(" "),a("Select",{model:{value:e.query.tx_status,callback:function(t){e.$set(e.query,"tx_status",t)},expression:"query.tx_status"}},[a("Option",{attrs:{value:-1}},[e._v("请选择")]),e._v(" "),a("Option",{attrs:{value:0}},[e._v("处理中")]),e._v(" "),a("Option",{attrs:{value:1}},[e._v("成功")]),e._v(" "),a("Option",{attrs:{value:2}},[e._v("失败")])],1)],1),e._v(" "),a("div",{staticClass:"poptip"},[a("span",[e._v("失败后是否处理")]),e._v(" "),a("Select",{model:{value:e.query.isHandleWhenFail,callback:function(t){e.$set(e.query,"isHandleWhenFail",t)},expression:"query.isHandleWhenFail"}},[a("Option",{attrs:{value:-1}},[e._v("请选择")]),e._v(" "),a("Option",{attrs:{value:0}},[e._v("未处理")]),e._v(" "),a("Option",{attrs:{value:1}},[e._v("已处理")])],1)],1),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"poptip"},[a("span",[e._v("搜索")]),e._v(" "),a("Input",{attrs:{placeholder:e.$t("thirdAppOrderManagement.searchTip")},model:{value:e.query.search,callback:function(t){e.$set(e.query,"search",t)},expression:"query.search"}})],1),e._v(" "),a("div",{staticClass:"poptip"},[a("span",[e._v("用户id")]),e._v(" "),a("Input",{model:{value:e.query.member_id,callback:function(t){e.$set(e.query,"member_id",t)},expression:"query.member_id"}})],1),e._v(" "),a("div",{staticClass:"poptip"},[a("span",[e._v("下单时间段")]),e._v(" "),a("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:e.$t("currencywithdrawalauditmanagement.pleaseselect")},model:{value:e.processtimeArr,callback:function(t){e.processtimeArr=t},expression:"processtimeArr"}})],1),e._v(" "),a("div",{staticClass:"btns"},[a("Button",{attrs:{type:"info",size:"small"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("positionmanagementcontractassetmanagement.search")))])],1)])]),e._v(" "),a("Row",[a("Table",{attrs:{columns:e.columns,data:e.orderList,border:"",loading:e.ifLoading}})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("span",[e._v("总金额（CNY）："),a("font",{staticStyle:{color:"red"}},[e._v("¥"+e._s(e.totalBalance))])],1)]),e._v(" "),a("div",{staticClass:"pageWrapper"},[a("Page",{attrs:{total:e.pageNum,current:e.currentPageIdx,"show-elevator":""},on:{"on-change":e.changePage}})],1)],1)],1),e._v(" "),a("Modal",{staticClass:"auditModel",attrs:{title:"请输入处理失败结果",width:"350"},on:{"on-cancle":function(e){},"on-ok":e.handleFail},model:{value:e.handleFailModel,callback:function(t){e.handleFailModel=t},expression:"handleFailModel"}},[a("Input",{attrs:{placeholder:"请输入失败处理结果"},model:{value:e.handleResultWhenFail,callback:function(t){e.handleResultWhenFail=t},expression:"handleResultWhenFail"}})],1),e._v(" "),a("Modal",{staticClass:"auditModel",attrs:{title:"请输入审核理由",width:"350"},on:{"on-cancle":function(e){},"on-ok":e.handleAudit},model:{value:e.handleAuditModel,callback:function(t){e.handleAuditModel=t},expression:"handleAuditModel"}},[a("p",[e._v("审核是否通过"),a("RadioGroup",{model:{value:e.handlePass,callback:function(t){e.handlePass=t},expression:"handlePass"}},[a("Radio",{attrs:{label:"1"}},[a("em",[e._v(e._s(e.$t("thirdAppOrderManagement.pass")))])]),e._v(" "),a("Radio",{attrs:{label:"0"}},[a("em",[e._v(e._s(e.$t("thirdAppOrderManagement.notpass")))])])],1)],1),e._v(" "),a("Input",{attrs:{placeholder:"请输入审核不通过的理由"},model:{value:e.handleAuditReason,callback:function(t){e.handleAuditReason=t},expression:"handleAuditReason"}})],1)],1)};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.default=i}});